# Fortran compiler. Only gfortran, specifically its invocation through gcc,
# correctly produces a static link on all tested platforms.
FC = $(or $(RESP_COMPILER),gfortran)

FLAGS = -c -O2 -v
# -mcmodel=medium
# option for gfortran
# allows handling of a larger number of MEP on 64 bit system
# FLAGS = -c -mcmodel=medium -O2

OBJS= resp.o
SRCS= resp.f
LIB= shared_variables.h

resp:	$(OBJS) 
	$(FC) $(OBJS) -static -o resp

$(OBJS): $(SRCS) $(LIB)
	$(FC) $(FLAGS) $(SRCS)

clean:
	rm -rf $(OBJS) resp

